<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/throwable-object.class.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/throwable-object.class.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Represents a throwable object (such as a grenade) in the game world that can be thrown,
 * animated with rotation, and eventually trigger an explosion. Inherits from {@link MovableObject}.
 *
 * @extends MovableObject
 */
class ThrowableObject extends MovableObject {

    /**
     * A reference to the game world.
     * @type {World}
     */
    world;

    
    /**
     * The height &amp; width of the throwable object sprite.
     * @type {number}
     * @default 55
     */
    height = 55;
    width = 55;


    /**
     * Hitbox properties
     * @type {number}
     */
    collisionBoxOffsetY = 0;
    collisionBoxOffsetX = 0;
    collisionBoxWidth = 55;
    collisionBoxHeight = 55;


    /**
     * An array of image paths for the explosion animation.
     * @type {string[]}
     */
    IMAGES_EXPLOSION = [
        'img/explosion/explosion-00.png',
        'img/explosion/explosion-01.png',
        'img/explosion/explosion-02.png',
        'img/explosion/explosion-03.png',
        'img/explosion/explosion-04.png',
        'img/explosion/explosion-05.png',
        'img/explosion/explosion-06.png',
        'img/explosion/explosion-07.png',
        'img/explosion/explosion-08.png',
        'img/explosion/explosion-09.png',
        'img/explosion/explosion-10.png'
    ];


    /**
     * An array of image paths for the rotation animation (grenade spinning).
     * @type {string[]}
     */
    IMAGES_ROTATION = [
        'img/grenade/grenade-00.png',
        'img/grenade/grenade-01.png',
        'img/grenade/grenade-02.png',
        'img/grenade/grenade-03.png',
        'img/grenade/grenade-04.png',
        'img/grenade/grenade-05.png',
        'img/grenade/grenade-06.png',
        'img/grenade/grenade-07.png',
        'img/grenade/grenade-08.png',
        'img/grenade/grenade-09.png',
        'img/grenade/grenade-10.png',
        'img/grenade/grenade-11.png',
        'img/grenade/grenade-12.png'
    ];


    /**
     * Creates a new ThrowableObject instance. Loads the initial grenade image,
     * explosion and rotation animations, sets the object's position and speed,
     * applies gravity, and starts the throw action.
     *
     * @constructor
     * @param {number} x - The initial x-coordinate of the throwable object.
     * @param {number} y - The initial y-coordinate of the throwable object.
     * @param {number} speed - The horizontal speed at which the object moves.
     */
    constructor(x, y, speed) {
        super().loadImage('img/grenade/grenade-12.png');
        this.loadImages(this.IMAGES_EXPLOSION);
        this.loadImages(this.IMAGES_ROTATION);
        this.x = x;
        this.y = y;
        this.speed = speed;
        this.speedY = 20;
        this.applyGravity();
        this.throw();
    }


    /**
     * Initiates the throwing action. Repeatedly calls {@link throwAndAnimateGrenade}
     * at fixed intervals (every 65 milliseconds) using the current throw direction.
     *
     * @function throw
     * @returns {void} No return value.
     */
    throw() {
        let throwDirection = MovableObject.throwOtherDirection;
        setStoppableIverval(() => {
            this.throwAndAnimateGrenade(throwDirection);
        }, 65);
    }


    /**
     * Animates the throwable object during its throw by updating its horizontal position
     * based on the throw direction and playing its rotation animation. If the object has reached
     * a specified vertical position or has already exploded, it triggers an explosion.
     * The explosion is added to the world's explosions array, and both the throwable object and
     * the explosion are removed after specified delays.
     *
     * @function throwAndAnimateGrenade
     * @param {boolean} throwDirection - The direction of the throw. When true, the object moves left;
     *                                   when false, it moves right.
     * @returns {void} No return value.
     */
    throwAndAnimateGrenade(throwDirection) {
        this.x += throwDirection ? -16 : 16;
        this.playAnimation(this.IMAGES_ROTATION);
        if (this.y &lt; 358 || this.hasExploded) return;
        const explosion = new Explosion(this.x + (throwDirection ? -100 : -110));
        this.world.explosions.push(explosion);
        this.hasExploded = true;
        this.removeItem(this.world.throwableObjects, this, 70);
        this.removeItem(this.world.explosions, explosion, 888);
        EXPLOSION_SOUND.play();
    }


    /**
     * Removes the specified item from the given array after a set delay.
     *
     * @function removeItem
     * @param {Array} arr - The array from which the item will be removed.
     * @param {*} item - The item to be removed.
     * @param {number} delay - The delay in milliseconds before removal.
     * @returns {void} No return value.
     */
    removeItem(arr, item, delay) {
        const i = arr.indexOf(item);
        if (i !== -1) setTimeout(() => arr.splice(i, 1), delay);
    }


}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BackgroundObject.html">BackgroundObject</a></li><li><a href="BossStatusBar.html">BossStatusBar</a></li><li><a href="BrainAlien.html">BrainAlien</a></li><li><a href="Character.html">Character</a></li><li><a href="Cloud.html">Cloud</a></li><li><a href="CollectedGrenades.html">CollectedGrenades</a></li><li><a href="CollectedPistolAmmunition.html">CollectedPistolAmmunition</a></li><li><a href="DrawableObject.html">DrawableObject</a></li><li><a href="Endboss.html">Endboss</a></li><li><a href="Explosion.html">Explosion</a></li><li><a href="GreenAlien.html">GreenAlien</a></li><li><a href="GrenadeAmmunition.html">GrenadeAmmunition</a></li><li><a href="Health.html">Health</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="Level.html">Level</a></li><li><a href="MovableObject.html">MovableObject</a></li><li><a href="PistolAmmunition.html">PistolAmmunition</a></li><li><a href="ShootableObject.html">ShootableObject</a></li><li><a href="StatusBar.html">StatusBar</a></li><li><a href="ThrowableObject.html">ThrowableObject</a></li><li><a href="Ufo.html">Ufo</a></li><li><a href="World.html">World</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ALIEN_HURT_SOUND">ALIEN_HURT_SOUND</a></li><li><a href="global.html#BOSS_ALERT_SOUND">BOSS_ALERT_SOUND</a></li><li><a href="global.html#GAME_SOUND">GAME_SOUND</a></li><li><a href="global.html#PICK_UP_PISTOL_AMMO_SOUND">PICK_UP_PISTOL_AMMO_SOUND</a></li><li><a href="global.html#SHOOT_SOUND">SHOOT_SOUND</a></li><li><a href="global.html#WALK_SOUND">WALK_SOUND</a></li><li><a href="global.html#animate">animate</a></li><li><a href="global.html#applyGravity">applyGravity</a></li><li><a href="global.html#autoFullscreenForMobile">autoFullscreenForMobile</a></li><li><a href="global.html#changeMuteIcon">changeMuteIcon</a></li><li><a href="global.html#clearAllIntervals">clearAllIntervals</a></li><li><a href="global.html#closeWindow">closeWindow</a></li><li><a href="global.html#draw">draw</a></li><li><a href="global.html#drawFrameCollisionBox">drawFrameCollisionBox</a></li><li><a href="global.html#drawFrameOutside">drawFrameOutside</a></li><li><a href="global.html#explode">explode</a></li><li><a href="global.html#fullscreen">fullscreen</a></li><li><a href="global.html#hit">hit</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initLevel">initLevel</a></li><li><a href="global.html#isAboveGround">isAboveGround</a></li><li><a href="global.html#isColliding">isColliding</a></li><li><a href="global.html#isDead">isDead</a></li><li><a href="global.html#isHurt">isHurt</a></li><li><a href="global.html#loadImage">loadImage</a></li><li><a href="global.html#loadImages">loadImages</a></li><li><a href="global.html#loadSoundStatus">loadSoundStatus</a></li><li><a href="global.html#moveLeft">moveLeft</a></li><li><a href="global.html#moveRight">moveRight</a></li><li><a href="global.html#muteSound">muteSound</a></li><li><a href="global.html#playAnimation">playAnimation</a></li><li><a href="global.html#playAnimationOneTime">playAnimationOneTime</a></li><li><a href="global.html#playSound">playSound</a></li><li><a href="global.html#playsTimedAnimation">playsTimedAnimation</a></li><li><a href="global.html#removeItem">removeItem</a></li><li><a href="global.html#resolveImageIndex">resolveImageIndex</a></li><li><a href="global.html#restartGame">restartGame</a></li><li><a href="global.html#setAllSoundsMuted">setAllSoundsMuted</a></li><li><a href="global.html#setPercentage">setPercentage</a></li><li><a href="global.html#setRandomSpeed">setRandomSpeed</a></li><li><a href="global.html#setStoppableIverval">setStoppableIverval</a></li><li><a href="global.html#setThrowOtherDirection">setThrowOtherDirection</a></li><li><a href="global.html#startGame">startGame</a></li><li><a href="global.html#throw">throw</a></li><li><a href="global.html#throwAndAnimateGrenade">throwAndAnimateGrenade</a></li><li><a href="global.html#toggleControlInfo">toggleControlInfo</a></li><li><a href="global.html#toggleImpressum">toggleImpressum</a></li><li><a href="global.html#toggleMute">toggleMute</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat Mar 01 2025 12:45:14 GMT+0100 (Mitteleuropäische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
